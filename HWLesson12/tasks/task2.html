<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Задача №2</title>
</head>

<body>
	<h1>Задача №2.
	</h1>
	<h3>Дано масив 30 випадкових цілих чисел. Підрахувати скільки було обмінів під час сортування змішуванням.</h3>

	<script>

		// Генерація випадкових цілих чисел  
		let randomNumbersArray = new Array();
		for (let index = 0; index < 30; index++) {
			randomNumbersArray.push(Math.floor(Math.random() * 1000) + 1, index);
		}
		document.write(`<h3>Згенерований масив:</h3>  ${randomNumbersArray} <br><br><br>`)


		// ==========================================================================================
		// Сортування Змішуванням.
		// Создамо функцію для заміни елементів масиву
		function swap(array, i, j) {
			let tmp = array[i];
			array[i] = array[j];
			array[j] = tmp;
		}

		//Создаємо функцію для сортування змішуванням.

		let count = 0;
		function getSortCocktail(array) {

			let leftIndex = 0;
			let rightIndex = array.length - 1;
			while (leftIndex < rightIndex) {

				for (let i = leftIndex; i < rightIndex; i++) {
					if (array[i] > array[i + 1]) {
						swap(array, i, i + 1);
						count++;
					}

				}
				rightIndex--;
				for (let j = rightIndex; j > leftIndex; j--) {
					if (array[j] < array[j - 1]) {
						swap(array, j, j - 1);
						count++;
					}

				}
				leftIndex++;

			}
			return array;
		}
		let result = getSortCocktail(randomNumbersArray);
		document.write('Відсортований масив: <br>')
		document.write(`${result}<br> <br> <br>`);
		document.write(`Кількість обмінів під час сортування змішуванням ${count}`)

	</script>
</body>

</html>